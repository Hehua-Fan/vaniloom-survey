# Vaniloom å†…æµ‹ç”¨æˆ·è°ƒæŸ¥é—®å·

è¿™æ˜¯ä¸€ä¸ªä¸º Vaniloom å¹³å°è®¾è®¡çš„å†…æµ‹ç”¨æˆ·è°ƒæŸ¥é—®å·ç³»ç»Ÿï¼Œç”¨äºæ”¶é›†ç”¨æˆ·ä¿¡æ¯å¹¶è‡ªåŠ¨åˆ†é…å†…æµ‹è´¦å·ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ“ å®Œæ•´çš„è°ƒæŸ¥é—®å·è¡¨å•ï¼ŒåŒ…å«ç”¨æˆ·åŸºæœ¬ä¿¡æ¯å’Œåå¥½è°ƒç ”
- ğŸ” è‡ªåŠ¨åˆ†é…å†…æµ‹è´¦å·å’Œå¯†ç 
- ğŸ“§ é‚®ä»¶å‘é€åŠŸèƒ½ï¼ˆå¯é›†æˆçœŸå®é‚®ä»¶æœåŠ¡ï¼‰
- ğŸ‘¤ é˜²é‡å¤æäº¤ï¼ˆåŸºäºé‚®ç®±åœ°å€ï¼‰
- ğŸ“Š ç®¡ç†åå°æŸ¥çœ‹è´¦å·åˆ†é…æƒ…å†µ
- ğŸ¨ ç¾è§‚çš„ç°ä»£åŒ–ç•Œé¢è®¾è®¡
- âš¡ åŸºäº Next.js 14 å’Œ TypeScript

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Next.js 14 (App Router)
- **UI ç»„ä»¶**: shadcn/ui
- **æ ·å¼**: Tailwind CSS
- **è¡¨å•ç®¡ç†**: React Hook Form + Zod
- **é€šçŸ¥ç³»ç»Ÿ**: Sonner
- **å›¾æ ‡**: Lucide React

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
# æˆ–
yarn install
# æˆ–
pnpm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
# æˆ–
yarn dev
# æˆ–
pnpm dev
```

### 3. è®¿é—®åº”ç”¨

- ä¸»é¡µï¼ˆè°ƒæŸ¥é—®å·ï¼‰: [http://localhost:3000](http://localhost:3000)
- ç®¡ç†åå°: [http://localhost:3000/admin](http://localhost:3000/admin)

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/submit-survey/     # APIè·¯ç”±ï¼šå¤„ç†é—®å·æäº¤
â”‚   â”œâ”€â”€ admin/                 # ç®¡ç†åå°é¡µé¢
â”‚   â””â”€â”€ page.tsx               # ä¸»é¡µï¼šè°ƒæŸ¥é—®å·
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                    # shadcn/ui ç»„ä»¶
â”‚   â””â”€â”€ survey-form.tsx        # è°ƒæŸ¥é—®å·è¡¨å•ç»„ä»¶
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ beta-accounts.ts       # å†…æµ‹è´¦å·æ•°æ®ç®¡ç†
â”‚   â”œâ”€â”€ email.ts               # é‚®ä»¶å‘é€åŠŸèƒ½
â”‚   â””â”€â”€ utils.ts               # å·¥å…·å‡½æ•°
```

## é…ç½®è¯´æ˜

### å†…æµ‹è´¦å·ç®¡ç†

å†…æµ‹è´¦å·åœ¨ `lib/beta-accounts.ts` ä¸­ç®¡ç†ï¼š

- é»˜è®¤æä¾› 20 ä¸ªå†…æµ‹è´¦å·
- æ”¯æŒè´¦å·åˆ†é…çŠ¶æ€è·Ÿè¸ª
- é˜²é‡å¤åˆ†é…æœºåˆ¶

### é‚®ä»¶é…ç½®

ç°å·²æ”¯æŒçœŸå®é‚®ä»¶å‘é€ï¼è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤é…ç½®ï¼š

1. **å¤åˆ¶ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ï¼š**
```bash
cp env.example .env.local
```

2. **ç¼–è¾‘ `.env.local` æ–‡ä»¶ï¼Œé€‰æ‹©é‚®ä»¶æœåŠ¡å•†ï¼š**

**Gmailï¼ˆæ¨èï¼‰ï¼š**
```env
EMAIL_SERVICE=gmail
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
EMAIL_FROM=noreply@vaniloom.com
EMAIL_ENABLED=true
```

**QQ é‚®ç®±ï¼š**
```env
EMAIL_SERVICE=
EMAIL_HOST=smtp.qq.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@qq.com
EMAIL_PASS=your-authorization-code
EMAIL_FROM=noreply@vaniloom.com
EMAIL_ENABLED=true
```

3. **è¯¦ç»†é…ç½®æŒ‡å—ï¼š** 
è¯·æŸ¥çœ‹ [EMAIL_SETUP.md](./EMAIL_SETUP.md) è·å–å®Œæ•´çš„é…ç½®è¯´æ˜å’Œæ•…éšœæ’é™¤æŒ‡å—ã€‚

4. **å¼€å‘æ¨¡å¼ï¼š** 
å¦‚æœæš‚æ—¶ä¸æƒ³é…ç½®çœŸå®é‚®ä»¶ï¼Œè®¾ç½® `EMAIL_ENABLED=false` ä½¿ç”¨æ¨¡æ‹Ÿå‘é€ã€‚

### è¡¨å•å­—æ®µè¯´æ˜

é—®å·åŒ…å«ä»¥ä¸‹å­—æ®µï¼š
- ç”¨æˆ·ç§°å‘¼ï¼ˆå¿…å¡«ï¼‰
- é‚®ç®±åœ°å€ï¼ˆå¿…å¡«ï¼Œç”¨äºå‘é€è´¦å·ï¼‰
- è”ç³»æ–¹å¼ï¼ˆå¿…å¡«ï¼‰
- å¹´é¾„æ®µé€‰æ‹©ï¼ˆå¿…å¡«ï¼‰
- æ€§åˆ«ï¼ˆå¿…å¡«ï¼‰
- æ€§å–å‘ï¼ˆå¿…å¡«ï¼‰
- AO3 ä½¿ç”¨æƒ…å†µï¼ˆå¿…å¡«ï¼Œæ–‡æœ¬åŸŸï¼‰
- å–œå¥½å†…å®¹æ ‡ç­¾ï¼ˆå¿…å¡«ï¼Œæ–‡æœ¬åŸŸï¼‰
- ç”¨æˆ·èº«ä»½ï¼ˆå¤šé€‰ï¼Œå¿…å¡«ï¼‰

## API æ¥å£

### POST /api/submit-survey

æäº¤è°ƒæŸ¥é—®å·å¹¶åˆ†é…å†…æµ‹è´¦å·

**è¯·æ±‚ä½“**:
```json
{
  "name": "string",
  "email": "string",
  "contact": "string",
  "age": "string",
  "gender": "string",
  "orientation": "string",
  "ao3Content": "string",
  "favoriteCpTags": "string",
  "identity": ["string"]
}
```

**å“åº”**:
```json
{
  "success": true,
  "message": "é—®å·æäº¤æˆåŠŸï¼å†…æµ‹è´¦å·å·²å‘é€åˆ°æ‚¨çš„é‚®ç®±",
  "accountInfo": {
    "username": "beta_user_001"
  },
  "remainingAccounts": 19
}
```

## éƒ¨ç½²

### Vercel éƒ¨ç½²

1. æ¨é€ä»£ç åˆ° GitHub
2. åœ¨ Vercel å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚éœ€è¦é‚®ä»¶æœåŠ¡ï¼‰
4. éƒ¨ç½²å®Œæˆ

### å…¶ä»–å¹³å°éƒ¨ç½²

```bash
# æ„å»ºé¡¹ç›®
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run start
```

## ç®¡ç†åŠŸèƒ½

è®¿é—® `/admin` è·¯å¾„æŸ¥çœ‹ï¼š
- è´¦å·åˆ†é…ç»Ÿè®¡
- å·²åˆ†é…è´¦å·åˆ—è¡¨
- å¯ç”¨è´¦å·åˆ—è¡¨
- åˆ†é…è¿›åº¦æ¡
- è´¦å·ä¸è¶³è­¦å‘Š

## å®‰å…¨è€ƒè™‘

- é˜²æ­¢é‚®ç®±é‡å¤æäº¤
- å‰åç«¯æ•°æ®éªŒè¯
- å¯†ç ä»…åœ¨é‚®ä»¶ä¸­æ˜¾ç¤º
- ç®¡ç†é¡µé¢å»ºè®®å¢åŠ èº«ä»½éªŒè¯

## è‡ªå®šä¹‰

### æ·»åŠ æ›´å¤šå†…æµ‹è´¦å·

ç¼–è¾‘ `lib/beta-accounts.ts`ï¼Œåœ¨ `betaAccounts` æ•°ç»„ä¸­æ·»åŠ æ›´å¤šè´¦å·ï¼š

```typescript
{
  id: '21',
  username: 'beta_user_021',
  password: 'VaniB2024!',
  isAssigned: false,
}
```

### ä¿®æ”¹è¡¨å•å­—æ®µ

ç¼–è¾‘ `components/survey-form.tsx`ï¼š
- ä¿®æ”¹ `formSchema` æ›´æ–°éªŒè¯è§„åˆ™
- ä¿®æ”¹è¡¨å• JSX æ›´æ–°ç•Œé¢
- ä¿®æ”¹ API è·¯ç”±å¤„ç†æ–°å­—æ®µ

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT License
